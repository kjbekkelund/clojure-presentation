<!DOCTYPE html>
<html>
  <head>
    <title>Clojure-intro</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="https://github.com/downloads/gnab/remark/remark-0.3.5.min.js" type="text/javascript"></script>
    <style type="text/css" media="screen">
      .icon {
        background: url(images/clojure-icon.gif) no-repeat 50% 30%;
      }
    </style>
  </head>
  <body>
    <textarea id="source">

.center.middle.icon
# Clojure-intro

---

# Agenda

1. Clojure og Lisp
2. Innebygde datastrukturer
3. Collections og sequences
4. Funksjonell programmering
5. Tilstand
6. Java interop

---

# Clojure er en LISP

* Prefiks-notasjon
* Syntaksen består av lister

---

# Eksempler

    .lisp
    (+ 1 1)  ;; 2

    (+ 1 (* 2 3)) ; 7

    (+ 1 
     (+ 2 3)
     (+ 4 
       (* 5 6))) ; 40

    (if (even? x)
      "x is even"
      "x is odd")

---

# Innebygde datastrukturer

* nil : Mulig verdi for enhver datatype i Clojure. Alt annet enn nil og false er logisk sant.
* Tall: Full støtte for JVM-primitivene
* Ratio: (/ 22 7) gir 22/7
* Strings og Characters: Clojure strings og characters er lik Java strings og Characters
* Keywords: Evaluerer til seg selv. SKrives med kolon,f.eks :someKeyword
* Symboler: Referanser til funksjonsparametre, bindinger, klassenavn og globale variabler.
* Collections: Lists, Vectors, Maps, Sets

---

# Lists

    .lisp
    (= '(1 2 3) (list 1 2 3))  ;true
      
    (peek '(1 2 3)) ; 1 

    (pop '(1 2 3)) ; (2 3)

    (list? '(1 2 3)) ; true


---

# Vectors

Vectors i Clojure er collections som er indeksert av sammenhengende (contiguous heltall.

    .lisp
    (= [1 2 3] (vector 1 2 3)) ; true

    (get [1 2 3] 0) ; 1

    (nth [1 2 3] 0) ; 1

    (peek [1 2 3])  ; 3

    (pop [1 2 3])  ; [1 2]

    (vector? [1 2 3]) ; true

---

# Maps

    .lisp
    (= {:a 1 :b 1} (hash-map :a 1 :b 1)) ; true

    (get {:a 1 :b 1} :a) ; 1

    ({:a 1 :b 1} :a) ; 1

    (:a {:a 1 :b 1}) ; 1

    (contains? {:a 1 :b 1} :a) ; true

    (map? {:a 1 :b 1}) ; true

---


# Sets

    .lisp
    (= #{1 2 3} (hash-set 1 2 3)) ; true

    (get #{1 2 3} 1) ; 1

    (contains? #{1 2 3} 1) ; true
    
    (set? #{1 2 3}) ; true

---

# Seq

Alle collections i Clojure implementerer Seq-grensesnittet. En seq er en logisk liste,
og tilbyr metoder for å aksessere elementer.

Eksempel:

    .lisp
    (map #(* 2 %) [1 2 3 4]) ;; (2 4 6 8)

    (map #(* 2 %) #{1 2 3 4}) ;; (2 4 6 8)

---

# Persistente datastrukturer (whiteboard?)

---

# Tilstand

    .lisp
    (defonce server (run-jetty #'main-routes {:port 8080 :join? false}))

---

# JVMen og Clojure (forklar ut fra dette eksempelet kanskje?)

    .lisp
    (import 'javax.swing.JFrame)
    (def frame (JFrame. "Hello Frame"))
    (.setSize frame 200 200)
    (.setVisible frame true)
    
    (import 'javax.swing.JPanel)
    (def panel (JPanel.))
    (.setContentPane frame panel)
    
    (import 'javax.swing.JButton)
    (def button (JButton. "Click me!"))
    (.add panel button)
    
    (.revalidate button)


---

.center.middle
# Done deal.

    </textarea>
    <div id="slideshow"></div>
  </body>
</html>
