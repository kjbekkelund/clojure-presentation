<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="https://github.com/downloads/gnab/remark/remark-0.3.5.min.js" type="text/javascript"></script>
    <style type="text/css" media="screen">
      /* Slideshow styles */
    </style>
  </head>
  <body>
    <textarea id="source">

.center.middle
# Presentasjon

---

# Agenda

1. Litt om Clojure som Lisp
2. Kodeeksempler (+/-, prefiks, nøstede kall)
3. Datatyper / Sequence API
4. Enkel Collection-manipulering:
  * Vise frem (map ..)
  * Lage wordcount i Clojure
  * Persistente datastrukturer, helst med eksempel / skisse / diagram
5. Eksempel på bruk av tilstand
  * Server / database som eksempel?
6. Implementert på JVM - snakke om økosystem, .class-filer
  * Java-interop
  * Enkelt JFrame-eksempel?
7. Litt om hvordan komme i gang generelt
  * tryclojure.com?
8. Oppgaver (helst mellom slides)
9. Gjerne et motiverende/inspirerende eksempel til slutt

---

# Clojure er en Lisp-dialekt

* Prefiks-notasjon
* Lite syntaks i kjernespråket sammenlinket med andre språk.
* All programkode skrives med nøstede lister (S-expressions)
  * "LISt Processing"

---

# Eksempler


    .lisp
    (+ 1 1)  ;; 2

    ; definisjon
    (defn hello-world [] "Hello world!")
    ; kall
    (hello-world) 

    ;; fakultet 
    (defn fact [x]
      (loop [n x f 1]
        (if (= n 1)
          f
          (recur (dec n) (* f n)))))


---

# Hvorfor Lisp?

  Det er lite syntaks, og det faktum at koden består av lister gir muligheter til å utvide språket:

    .lisp
    (defmacro unless [expr body] `(if ~expr nil ~body))

---

# Datatyper

nil er tilsvarende Java null. 

Støtter alle JVM-primitivene (inkludert BigInteger og BigDecimal)

Har en egen Ratio-type: (/ 22 7) gir 22/7

Strings og Characters er henholdsvis Java Strings og Java Characters

Keywords: Evaluarer til seg selv. Skrives med kolon foran: :someKeywordb

Symboler er identifiers som referer til et eller annet. I Clojure blir de brukt til
å referere til funksjonsparametre, let-bindinger, klassenavn og globale variable.

---

# Collections!

Vectors: [1 2]

Maps: {:a 1 :b 2}

Sets: #{1 2}

---


# Seq

Alle collections i Clojure implementerer Seq-grensesnittet. En seq er en logisk liste,
og tilbyr metoder for å aksessere elementer.

Eksempel:

    .lisp
    (map #(* 2 %) [1 2 3 4]) ;; (2 4 6 8)

    (map #(* 2 %) #{1 2 3 4}) ;; (2 4 6 8)

---

# Persistente datastrukturer (whiteboard?)

---

# Tilstand

    .lisp
    (defonce server (run-jetty #'main-routes {:port 8080 :join? false}))

---

# JVMen og Clojure (forklar ut fra dette eksempelet kanskje?)

    .lisp
    (import 'javax.swing.JFrame)
    (def frame (JFrame. "Hello Frame"))
    (.setSize frame 200 200)
    (.setVisible frame true)
    
    (import 'javax.swing.JPanel)
    (def panel (JPanel.))
    (.setContentPane frame panel)
    
    (import 'javax.swing.JButton)
    (def button (JButton. "Click me!"))
    (.add panel button)
    
    (.revalidate button)


---

.center.middle
# Done deal.

    </textarea>
    <div id="slideshow"></div>
  </body>
</html>
